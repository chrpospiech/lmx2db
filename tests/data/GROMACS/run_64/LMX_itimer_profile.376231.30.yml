# ----------------------------------------------------------------------------
#
#       Lightweight MPI traces with eXtensions
#
#       LMX_trace interval timer output in YAML format.
#
#       This output is both human and machine readable.
#
# ----------------------------------------------------------------------------
---
base_data:
    library_version:                         2.0.0.rc3
    MPI_ranks:                                      64
    my_MPI_rank:                                    30
    collect_scope:            MPI_Init to MPI_Finalize
    real_time:                               1072.5489
    user_time:                               4258.8691
    sys_time:                                  21.2114
    total_comm_time:                          216.5484
    mpiio_time:                           0.000000e+00
    itimer_ticks_total:                          10725
# ----------------------------------------------------------------------------
# The histogram for the libraries has are the following entries.
#
#       element name       | use
#      --------------------|--------------------------------------
#       short name         | Abreviated name of the library
#       itimer ticks       | Number of itimer ticks in this library
#       percent total time | Percent of the totel number of ticks
#
# The rows in this table are sorted by descending number of ticks.
# The short name is made unique by preceeding it with the row number.
#
# When digested with yaml.load_safe(), each row is a dict entry
# with the short name as key, and the value being an array of
# two numbers with indices 0,1
#
# ----------------------------------------------------------------------------
#     short name                    itimer ticks         percent time
# ----------------------------------------------------------------------------
library_histogram:
    000/unknown:                    [             7925,      73.8928]
    001/libc.so.6:                  [              622,       5.7995]
    002/libuct.so.0.0.0:            [              570,       5.3147]
    003/libmpi.so.40.40.7:          [              546,       5.0909]
    004/libomp.so:                  [              366,       3.4126]
    005/libucp.so.0.0.0:            [              305,       2.8438]
    006/libopen-pal.so.80.0.5:      [              242,       2.2564]
    007/hmca_bcol_basesmuma.so:     [               96,       0.8951]
    008/libmpitrace.so:             [               23,       0.2145]
    009/libhcoll.so.1.0.9:          [               13,       0.1212]
    010/libucs.so.0.0.0:            [                8,       0.0746]
    011/libm.so.6:                  [                6,       0.0559]
    012/ld-linux-x86-64.so.2:       [                2,       0.0186]
    013/libuct_knem.so.0.0.0:       [                1,       0.0093]
# ----------------------------------------------------------------------------
# The detailed flat profile lists the libraries as before,
# and for each entry there is a table with the following entries.
#
#       element name       | use
#      --------------------|--------------------------------------
#       short name         | Abreviated name of the library
#       itimer ticks       | Number of itimer ticks in this library
#       percent total time | Percent of the totel number of ticks
#
# The rows in this table are sorted by descending number of ticks.
# The short name is made unique by preceeding it with the library
# and the row number.
#
# When digested with yaml.load_safe(), each row is a dict entry
# with the short name as key, and the value being an array of
# two numbers with indices 0,1.
#
# ----------------------------------------------------------------------------
#         short name                itimer ticks         percent time
# ----------------------------------------------------------------------------
flat_profile:
    000/unknown:
    001/libc.so.6:
        001.000/__memmove_avx512_:  [              553,       5.1562]
        001.001/pthread_mutex_loc:  [               46,       0.4289]
        001.002/openat64:           [                7,       0.0653]
        001.003/__memset_avx512_u:  [                6,       0.0559]
        001.004/pthread_spin_lock:  [                3,       0.0280]
        001.005/__GI___pthread_mu:  [                2,       0.0186]
        001.006/__clock_gettime:    [                2,       0.0186]
        001.007/__pthread_rwlock_:  [                1,       0.0093]
        001.008/faccessat:          [                1,       0.0093]
        001.009/sched_setaffinity:  [                1,       0.0093]
    002/libuct.so.0.0.0:
        002.000/hidden:             [              390,       3.6364]
        002.001/uct_mm_ep_am_bcop:  [              177,       1.6503]
        002.002/uct_mm_ep_am_shor:  [                3,       0.0280]
    003/libmpi.so.40.40.7:
        003.000/ompi_osc_sm_test:   [              272,       2.5361]
        003.001/mca_part_base_sel:  [              200,       1.8648]
        003.002/mca_pml_base_pml_:  [               29,       0.2704]
        003.003/libnbc_open:        [               11,       0.1026]
        003.004/__muldc3:           [                9,       0.0839]
        003.005/mca_coll_self_com:  [                9,       0.0839]
        003.006/mca_pml_v_compone:  [                3,       0.0280]
        003.007/ompi_grequest_fre:  [                3,       0.0280]
        003.008/mca_pml_base_sele:  [                2,       0.0186]
        003.009/mca_pml_v_compone:  [                2,       0.0186]
        003.010/mca_pml_base_pml_:  [                1,       0.0093]
        003.011/mca_pml_v_compone:  [                1,       0.0093]
        003.012/ompi_errcode_get_:  [                1,       0.0093]
        003.013/ompi_grequest_com:  [                1,       0.0093]
        003.014/ompi_request_defa:  [                1,       0.0093]
        003.015/ompi_request_pers:  [                1,       0.0093]
    004/libomp.so:
        004.000/_ZL26__kmp_hyper_:  [              118,       1.1002]
        004.001/__kmp_invoke_micr:  [              100,       0.9324]
        004.002/_ZL27__kmp_hyper_:  [               43,       0.4009]
        004.003/__kmp_fork_call:    [               13,       0.1212]
        004.004/__kmp_internal_fo:  [               12,       0.1119]
        004.005/__kmp_release_tic:  [               10,       0.0932]
        004.006/__kmp_join_call.l:  [                9,       0.0839]
        004.007/__kmp_hardware_ti:  [                8,       0.0746]
        004.008/__kmpc_for_static:  [                8,       0.0746]
        004.009/__kmp_acquire_tic:  [                6,       0.0559]
        004.010/_Z18__kmp_fork_ba:  [                4,       0.0373]
        004.011/__kmp_invoke_task:  [                4,       0.0373]
        004.012/__kmp_task_team_s:  [                4,       0.0373]
        004.013/__kmp_task_team_s:  [                4,       0.0373]
        004.014/_Z22__kmp_barrier:  [                3,       0.0280]
        004.015/_ZL23__kmp_reinit:  [                3,       0.0280]
        004.016/__kmp_finish_impl:  [                3,       0.0280]
        004.017/__kmp_get_global_:  [                3,       0.0280]
        004.018/_Z18__kmp_join_ba:  [                2,       0.0186]
        004.019/__kmp_allocate_te:  [                2,       0.0186]
        004.020/__kmpc_barrier:     [                2,       0.0186]
        004.021/__kmpc_for_static:  [                2,       0.0186]
        004.022/__kmpc_fork_call:   [                2,       0.0186]
        004.023/__kmp_push_num_th:  [                1,       0.0093]
    005/libucp.so.0.0.0:
        005.000/ucp_worker_progre:  [               99,       0.9231]
        005.001/ucp_eager_middle_:  [               53,       0.4942]
        005.002/ucp_eager_only_ha:  [               38,       0.3543]
        005.003/hidden:             [               37,       0.3450]
        005.004/ucp_eager_first_h:  [               33,       0.3077]
        005.005/ucp_request_test:   [               22,       0.2051]
        005.006/ucp_tag_send_nbx:   [               12,       0.1119]
        005.007/ucp_tag_recv_nbx:   [                5,       0.0466]
        005.008/ucp_tag_rndv_rts_:  [                3,       0.0280]
        005.009/ucp_proto_rndv_se:  [                2,       0.0186]
        005.010/ucp_request_free:   [                1,       0.0093]
    006/libopen-pal.so.80.0.5:
        006.000/hidden:             [              172,       1.6037]
        006.001/opal_tsd_tracked_:  [               70,       0.6527]
    007/hmca_bcol_basesmuma.so:
        007.000/hmca_bcol_basesmu:  [               61,       0.5688]
        007.001/hmca_bcol_basesmu:  [               27,       0.2517]
        007.002/hmca_bcol_basesmu:  [                4,       0.0373]
        007.003/hmca_bcol_basesmu:  [                3,       0.0280]
        007.004/hmca_bcol_basesmu:  [                1,       0.0093]
    008/libmpitrace.so:
        008.000/LMX_print_mmm_tim:  [               15,       0.1399]
        008.001/LMX_print_MPI_sum:  [                5,       0.0466]
        008.002/LMX_extend_mpi_pr:  [                1,       0.0093]
        008.003/LMX_print_MPI_det:  [                1,       0.0093]
        008.004/MPI_Probe:          [                1,       0.0093]
    009/libhcoll.so.1.0.9:
        009.000/hcoll_ml_progress:  [               11,       0.1026]
        009.001/coll_ml_allreduce:  [                1,       0.0093]
        009.002/hmca_coll_ml_barr:  [                1,       0.0093]
    010/libucs.so.0.0.0:
        010.000/ucs_pgtable_looku:  [                6,       0.0559]
        010.001/hidden:             [                1,       0.0093]
        010.002/ucs_rcache_get:     [                1,       0.0093]
    011/libm.so.6:
        011.000/hidden:             [                3,       0.0280]
        011.001/atanf32:            [                2,       0.0186]
        011.002/erfcf:              [                1,       0.0093]
    012/ld-linux-x86-64.so.2:
        012.000/__mmap:             [                1,       0.0093]
        012.001/__tls_get_addr:     [                1,       0.0093]
    013/libuct_knem.so.0.0.0:
        013.000/hidden:             [                1,       0.0093]
# ----------------------------------------------------------------------------
#        Directory of Library Names
#
# The full path library name may be longer than
# the maximum line length that is allowed by yamllint.
# Hence it will be split into an array of strings.
# Any line feeds already in the variable will be replaced
# by blanks. Also the chunks are also enclosed in ticks to
# exclude them from YAML linting. When reading from Python,
# use ''.join(<array>) to piece them together.
#
# ----------------------------------------------------------------------------
library_names:
    000/unknown:
        - 'unknown'
    001/libc.so.6:
        - '/usr/lib64/libc.so.6'
    002/libuct.so.0.0.0:
        - '/usr/lib64/libuct.so.0.0.0'
    003/libmpi.so.40.40.7:
        - '/gpfs/gpfs_de6000/hpc/base/amd/openmpi/5.0.8/aocc/5.0.0/lib/libmpi.so.'
        - '40.40.7'
    004/libomp.so:
        - '/gpfs/gpfs_de6000/hpc/base/amd/compilers/aocc-compiler-5.0.0/lib/libom'
        - 'p.so'
    005/libucp.so.0.0.0:
        - '/usr/lib64/libucp.so.0.0.0'
    006/libopen-pal.so.80.0.5:
        - '/gpfs/gpfs_de6000/hpc/base/amd/openmpi/5.0.8/aocc/5.0.0/lib/libopen-pa'
        - 'l.so.80.0.5'
    007/hmca_bcol_basesmuma.so:
        - '/opt/mellanox/hcoll/lib/hcoll/hmca_bcol_basesmuma.so'
    008/libmpitrace.so:
        - '/gpfs/gpfs_de6000/home/xcpospiech/bench/4paper/lmxtrace_build_aocc/lmx'
        - '_trace-2.0.0.rc3/install_aocc/lib/libmpitrace.so'
    009/libhcoll.so.1.0.9:
        - '/opt/mellanox/hcoll/lib/libhcoll.so.1.0.9'
    010/libucs.so.0.0.0:
        - '/usr/lib64/libucs.so.0.0.0'
    011/libm.so.6:
        - '/usr/lib64/libm.so.6'
    012/ld-linux-x86-64.so.2:
        - '/usr/lib64/ld-linux-x86-64.so.2'
    013/libuct_knem.so.0.0.0:
        - '/usr/lib64/ucx/libuct_knem.so.0.0.0'
# ----------------------------------------------------------------------------
#        Directory of Soubroutine Names
#
# The full de-mangled subroutine name may be longer than
# the maximum line length that is allowed by yamllint.
# Hence it will be split into an array of strings.
# Any line feeds already in the variable will be replaced
# by blanks. Also the chunks are also enclosed in ticks to
# exclude them from YAML linting. When reading from Python,
# use ''.join(<array>) to piece them together.
#
# ----------------------------------------------------------------------------
subroutine_names:
    000/unknown:
    001/libc.so.6:
        001.000/__memmove_avx512_:
            - '__memmove_avx512_unaligned_erms'
        001.001/pthread_mutex_loc:
            - 'pthread_mutex_lock'
        001.002/openat64:
            - 'openat64'
        001.003/__memset_avx512_u:
            - '__memset_avx512_unaligned_erms'
        001.004/pthread_spin_lock:
            - 'pthread_spin_lock'
        001.005/__GI___pthread_mu:
            - '__GI___pthread_mutex_unlock_usercnt'
        001.006/__clock_gettime:
            - '__clock_gettime'
        001.007/__pthread_rwlock_:
            - '__pthread_rwlock_unlock'
        001.008/faccessat:
            - 'faccessat'
        001.009/sched_setaffinity:
            - 'sched_setaffinity'
    002/libuct.so.0.0.0:
        002.000/hidden:
            - 'hidden'
        002.001/uct_mm_ep_am_bcop:
            - 'uct_mm_ep_am_bcopy'
        002.002/uct_mm_ep_am_shor:
            - 'uct_mm_ep_am_short'
    003/libmpi.so.40.40.7:
        003.000/ompi_osc_sm_test:
            - 'ompi_osc_sm_test'
        003.001/mca_part_base_sel:
            - 'mca_part_base_select'
        003.002/mca_pml_base_pml_:
            - 'mca_pml_base_pml_check_selected_impl'
        003.003/libnbc_open:
            - 'libnbc_open'
        003.004/__muldc3:
            - '__muldc3'
        003.005/mca_coll_self_com:
            - 'mca_coll_self_comm_query'
        003.006/mca_pml_v_compone:
            - 'mca_pml_v_component_parasite_finalize'
        003.007/ompi_grequest_fre:
            - 'ompi_grequest_free'
        003.008/mca_pml_base_sele:
            - 'mca_pml_base_select'
        003.009/mca_pml_v_compone:
            - 'mca_pml_v_component_close'
        003.010/mca_pml_base_pml_:
            - 'mca_pml_base_pml_check_selected'
        003.011/mca_pml_v_compone:
            - 'mca_pml_v_component_parasite_close'
        003.012/ompi_errcode_get_:
            - 'ompi_errcode_get_mpi_code'
        003.013/ompi_grequest_com:
            - 'ompi_grequest_complete'
        003.014/ompi_request_defa:
            - 'ompi_request_default_test_all'
        003.015/ompi_request_pers:
            - 'ompi_request_persistent_noop_free'
    004/libomp.so:
        004.000/_ZL26__kmp_hyper_:
            - '__kmp_hyper_barrier_gather'
        004.001/__kmp_invoke_micr:
            - '__kmp_invoke_microtask'
        004.002/_ZL27__kmp_hyper_:
            - '__kmp_hyper_barrier_release'
        004.003/__kmp_fork_call:
            - '__kmp_fork_call'
        004.004/__kmp_internal_fo:
            - '__kmp_internal_fork.localalias.14'
        004.005/__kmp_release_tic:
            - '__kmp_release_ticket_lock.localalias.29'
        004.006/__kmp_join_call.l:
            - '__kmp_join_call.localalias.38'
        004.007/__kmp_hardware_ti:
            - '__kmp_hardware_timestamp'
        004.008/__kmpc_for_static:
            - '__kmpc_for_static_init_4'
        004.009/__kmp_acquire_tic:
            - '__kmp_acquire_ticket_lock'
        004.010/_Z18__kmp_fork_ba:
            - '__kmp_fork_barrier'
        004.011/__kmp_invoke_task:
            - '__kmp_invoke_task_func'
        004.012/__kmp_task_team_s:
            - '__kmp_task_team_setup.localalias.6'
        004.013/__kmp_task_team_s:
            - '__kmp_task_team_sync'
        004.014/_Z22__kmp_barrier:
            - '__kmp_barrier_template<false>'
        004.015/_ZL23__kmp_reinit:
            - '__kmp_reinitialize_team'
        004.016/__kmp_finish_impl:
            - '__kmp_finish_implicit_task'
        004.017/__kmp_get_global_:
            - '__kmp_get_global_thread_id_reg.localalias.42'
        004.018/_Z18__kmp_join_ba:
            - '__kmp_join_barrier'
        004.019/__kmp_allocate_te:
            - '__kmp_allocate_team.localalias.29'
        004.020/__kmpc_barrier:
            - '__kmpc_barrier'
        004.021/__kmpc_for_static:
            - '__kmpc_for_static_fini'
        004.022/__kmpc_fork_call:
            - '__kmpc_fork_call'
        004.023/__kmp_push_num_th:
            - '__kmp_push_num_threads'
    005/libucp.so.0.0.0:
        005.000/ucp_worker_progre:
            - 'ucp_worker_progress'
        005.001/ucp_eager_middle_:
            - 'ucp_eager_middle_handler'
        005.002/ucp_eager_only_ha:
            - 'ucp_eager_only_handler'
        005.003/hidden:
            - 'hidden'
        005.004/ucp_eager_first_h:
            - 'ucp_eager_first_handler'
        005.005/ucp_request_test:
            - 'ucp_request_test'
        005.006/ucp_tag_send_nbx:
            - 'ucp_tag_send_nbx'
        005.007/ucp_tag_recv_nbx:
            - 'ucp_tag_recv_nbx'
        005.008/ucp_tag_rndv_rts_:
            - 'ucp_tag_rndv_rts_progress'
        005.009/ucp_proto_rndv_se:
            - 'ucp_proto_rndv_send_reply'
        005.010/ucp_request_free:
            - 'ucp_request_free'
    006/libopen-pal.so.80.0.5:
        006.000/hidden:
            - 'hidden'
        006.001/opal_tsd_tracked_:
            - 'opal_tsd_tracked_key_constructor'
    007/hmca_bcol_basesmuma.so:
        007.000/hmca_bcol_basesmu:
            - 'hmca_bcol_basesmuma_barrier_toplevel_progress_x86'
        007.001/hmca_bcol_basesmu:
            - 'hmca_bcol_basesmuma_allreduce_intra_fanin_fanout_progress'
        007.002/hmca_bcol_basesmu:
            - 'hmca_bcol_basesmuma_barrier_toplevel_x86'
        007.003/hmca_bcol_basesmu:
            - 'hmca_bcol_basesmuma_allreduce_intra_fanin_fanout'
        007.004/hmca_bcol_basesmu:
            - 'hmca_bcol_basesmuma_bcast_k_nomial_knownroot_init'
    008/libmpitrace.so:
        008.000/LMX_print_mmm_tim:
            - 'LMX_print_mmm_times'
        008.001/LMX_print_MPI_sum:
            - 'LMX_print_MPI_summary'
        008.002/LMX_extend_mpi_pr:
            - 'LMX_extend_mpi_profile'
        008.003/LMX_print_MPI_det:
            - 'LMX_print_MPI_details'
        008.004/MPI_Probe:
            - 'MPI_Probe'
    009/libhcoll.so.1.0.9:
        009.000/hcoll_ml_progress:
            - 'hcoll_ml_progress'
        009.001/coll_ml_allreduce:
            - 'coll_ml_allreduce_small'
        009.002/hmca_coll_ml_barr:
            - 'hmca_coll_ml_barrier_intra'
    010/libucs.so.0.0.0:
        010.000/ucs_pgtable_looku:
            - 'ucs_pgtable_lookup'
        010.001/hidden:
            - 'hidden'
        010.002/ucs_rcache_get:
            - 'ucs_rcache_get'
    011/libm.so.6:
        011.000/hidden:
            - 'hidden'
        011.001/atanf32:
            - 'atanf32'
        011.002/erfcf:
            - 'erfcf'
    012/ld-linux-x86-64.so.2:
        012.000/__mmap:
            - '__mmap'
        012.001/__tls_get_addr:
            - '__tls_get_addr'
    013/libuct_knem.so.0.0.0:
        013.000/hidden:
            - 'hidden'
